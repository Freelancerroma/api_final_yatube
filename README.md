# API final для проекта YaTube:
### Описание проекта:

API для проекта YaTube. Проект позволяет регистрироваться, создавать посты, комментировать посты, подписываться на других авторов

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:Freelancerroma/api_final_yatube.git
```

Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```

```
source venv/Scripts/activate
```

Установить зависимости из файла requirements.txt:

```
python -m pip install
```

```
pip install -r requirements.txt
```

Перейти в директорию yatube_api/

```
cd yatube_api/
```

Выполнить миграции:

```
python manage.py migrate
```

Запустить проект:

```
python manage.py runserver
```

### Примеры запросов к API:

Создание пользователя:

Пример (передается в тело запроса):

```
{
    "username": "username1",
    "password": "123456password"
}
```

Отправляем POST-запрос по адресу:

```
http://127.0.0.1:8000/api/v1/users/
```

Получаем приблизительно такой ответ:

```
{
    "email": "",
    "username": "username1",
    "id": 1
}
```

Получаем токен по адресу:

```
http://127.0.0.1:8000/api/v1/jwt/create/
```

Приблизительный ответ:

```
{
    "refresh": "eyJ0eXAiOiJ...",
    "access": "eyJ0eXAiOiJ..."
}
```

Создание поста (только для авторизированного пользователя):

Пример (передается в тело запроса):

```
{
    "text": "Text1"
}
```

Отправляем POST-запрос по адресу:

```
http://127.0.0.1:8000/api/v1/posts/
```

Получаем приблизительно такой ответ:

```
{
    "id": 5,
    "author": "username1",
    "text": "Text1",
    "pub_date": "2023-09-02T17:13:28.852703Z",
    "image": null,
    "group": null
}
```

Для получения списка всех постов, отправляем GET-запрос по адресу:

```
http://127.0.0.1:8000/api/v1/posts/
```

Приблизительный ответ:

```
[
    {
        "id": 5,
        "author": "username1",
        "text": "Text1",
        "pub_date": "2023-09-02T17:13:28.852703Z",
        "image": null,
        "group": null
    }
]
```

Для получения определенного поста, отправляем GET-запрос с нужным id поста по адресу:

Например:

```
http://127.0.0.1:8000/api/v1/posts/5/
```

Приблизительный ответ:

```
{
    "id": 5,
    "author": "username1",
    "text": "Text1",
    "pub_date": "2023-09-02T17:13:28.852703Z",
    "image": null,
    "group": null
}
```

Все возможности сервиса описаны в документации, которая доступна по адресу (после запуска проекта):

```
http://127.0.0.1:8000/redoc/
```